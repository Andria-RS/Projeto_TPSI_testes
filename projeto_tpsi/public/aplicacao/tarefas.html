<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestor de Teses de Mestrado - IPVC</title>
  <script src="../permissoes.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>

  <div id="navbar"></div>

  <!-- Main Content -->
  <div class="container py-5 mt-5">
    <h2 class="text-center fw-bold mb-5 mt-3">Tarefas</h2>

    <div class="row g-3">
      <!-- pedido Sla -->
      <div class="col-md-6 ">
        <div class="card mb-3 cordenador" onclick="openModal('modal_sala')">
          <div class="card-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-calendar2-check" viewBox="0 0 16 16">
              <path
                d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0" />
              <path
                d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z" />
              <path d="M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5z" />
            </svg>
            - Pedido de Sala
          </div>
          <div class="card-body">
            <button class="btn" onclick="openModal('modal_sala')" style="background-color: transparent; border: none;">
              Clique para fazer o pedido de reservação de sala.</button>
          </div>
        </div>
      </div>

      <!-- convite -->
      <div class="col-md-6 ">
        <div class="card mb-3 cordenador" onclick="openModal('modal_invite')">
          <div class="card-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-envelope-paper" viewBox="0 0 16 16">
              <path
                d="M4 0a2 2 0 0 0-2 2v1.133l-.941.502A2 2 0 0 0 0 5.4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5.4a2 2 0 0 0-1.059-1.765L14 3.133V2a2 2 0 0 0-2-2zm10 4.267.47.25A1 1 0 0 1 15 5.4v.817l-1 .6zm-1 3.15-3.75 2.25L8 8.917l-1.25.75L3 7.417V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1zm-11-.6-1-.6V5.4a1 1 0 0 1 .53-.882L2 4.267zm13 .566v5.734l-4.778-2.867zm-.035 6.88A1 1 0 0 1 14 15H2a1 1 0 0 1-.965-.738L8 10.083zM1 13.116V7.383l4.778 2.867L1 13.117Z" />
            </svg>
            - Convidar
          </div>
          <div class="card-body">
            <button class="btn" onclick="openModal('modal_invite')"
              style="background-color: transparent; border: none;"> Clique para convidar.</button>
          </div>
        </div>
      </div>

      <div class="col-md-6 form_Juri">
        <div class="card mb-3 juri" onclick="openModal('avaliacaoModal')">
          <div class="card-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-envelope-paper" viewBox="0 0 16 16">
              <path
                d="M4 0a2 2 0 0 0-2 2v1.133l-.941.502A2 2 0 0 0 0 5.4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5.4a2 2 0 0 0-1.059-1.765L14 3.133V2a2 2 0 0 0-2-2zm10 4.267.47.25A1 1 0 0 1 15 5.4v.817l-1 .6zm-1 3.15-3.75 2.25L8 8.917l-1.25.75L3 7.417V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1zm-11-.6-1-.6V5.4a1 1 0 0 1 .53-.882L2 4.267zm13 .566v5.734l-4.778-2.867zm-.035 6.88A1 1 0 0 1 14 15H2a1 1 0 0 1-.965-.738L8 10.083zM1 13.116V7.383l4.778 2.867L1 13.117Z" />
            </svg>
            - Relatorio Avaliação
          </div>
          <div class="card-body">
            <button class="btn" onclick="openModal('avaliacaoModal')" style="background-color: transparent; border: none;">
              Clique para submeter o relatorio de Avaliação.</button>
          </div>
        </div>
      </div>

      <div class="col-md-6 ">
        <div class="card mb-3 cordenador" onclick="openModal('criarJuriModal')">
          <div class="card-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus"
              viewBox="0 0 16 16">
              <path
                d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
              <path fill-rule="evenodd"
                d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5" />
            </svg>
            - Criar Júri
          </div>
          <div class="card-body">
            <button class="btn" onclick="openModal('criarJuriModal')"
              style="background-color: transparent; border: none;"> Clique para Criar um
              Júri.</button>
          </div>
        </div>
      </div>


      <div class="col-md-6 form_Juri">
        <div class="card mb-3 juri" onclick="openModal('ataModal')">
          <div class="card-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-envelope-paper" viewBox="0 0 16 16">
              <path
                d="M4 0a2 2 0 0 0-2 2v1.133l-.941.502A2 2 0 0 0 0 5.4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5.4a2 2 0 0 0-1.059-1.765L14 3.133V2a2 2 0 0 0-2-2zm10 4.267.47.25A1 1 0 0 1 15 5.4v.817l-1 .6zm-1 3.15-3.75 2.25L8 8.917l-1.25.75L3 7.417V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1zm-11-.6-1-.6V5.4a1 1 0 0 1 .53-.882L2 4.267zm13 .566v5.734l-4.778-2.867zm-.035 6.88A1 1 0 0 1 14 15H2a1 1 0 0 1-.965-.738L8 10.083zM1 13.116V7.383l4.778 2.867L1 13.117Z" />
            </svg>
            - Submeter Ata
          </div>
          <div class="card-body">
            <button class="btn" onclick="openModal('ataModal')" style="background-color: transparent; border: none;">
              Clique para submeter a ata.</button>
          </div>
        </div>
      </div>

      

      <!-- submeterTese -->
      <div class="col-md-6 ">
            
        <div class="card mb-3 aluno" onclick="openModal('submitThesisModal')">
          <div class="card-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-envelope-paper" viewBox="0 0 16 16">
              <path
                d="M4 0a2 2 0 0 0-2 2v1.133l-.941.502A2 2 0 0 0 0 5.4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5.4a2 2 0 0 0-1.059-1.765L14 3.133V2a2 2 0 0 0-2-2zm10 4.267.47.25A1 1 0 0 1 15 5.4v.817l-1 .6zm-1 3.15-3.75 2.25L8 8.917l-1.25.75L3 7.417V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1zm-11-.6-1-.6V5.4a1 1 0 0 1 .53-.882L2 4.267zm13 .566v5.734l-4.778-2.867zm-.035 6.88A1 1 0 0 1 14 15H2a1 1 0 0 1-.965-.738L8 10.083zM1 13.116V7.383l4.778 2.867L1 13.117Z" />
            </svg>
            - Submeta sua Tese
          </div>
          <div class="card-body">
            <button class="btn" onclick="openModal('submitThesisModal')"
              style="background-color: transparent; border: none;"> Clique para enviar sua tese.</button>
          </div>
        </div>
      </div>


    </div>

    <!-- Modal  convite-->
    <div id="modal_invite" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" style="max-width: 800px;">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Convite para o Arguente Externo</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"
              onclick="clearNotifications()"></button>
          </div>
          <div class="container">
            <h2 class="text-center mt-3">Enviar E-mail</h2>
            <form id="form_invite" onsubmit="sendEmail(event)" class="form-submit">
              <div class="mb-3">
                <label for="emailTo" class="form-label">Destinatário</label>
                <input type="email" class="form-control" id="emailTo" placeholder="exemplo@dominio.com" required>
              </div>
              <div class="mb-3">
                <label for="emailSubject" class="form-label">Assunto</label>
                <input type="text" class="form-control" id="emailSubject" placeholder="Digite o assunto" required>
              </div>
              <div class="mb-3">
                <label for="emailText" class="form-label">Mensagem</label>
                <textarea class="form-control" id="emailText" rows="5" placeholder="Digite sua mensagem"
                  required></textarea>
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-dark">Enviar</button>
              </div>
            </form>
            <div class="responseMessage mt-3" id="responseMessage" style="display: none;"></div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Modal Submeter Tese -->
  <div class="modal fade" id="submitThesisModal" tabindex="-1" aria-labelledby="submitThesisModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="submitThesisModalLabel">Submeter Tese</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="submitThesisForm">
                    
            <div class="mb-3">
              <label for="thesisFile" class="form-label">Selecione o Arquivo</label>
              <input type="file" class="form-control" id="thesisFile" name="thesisFile" accept=".pdf" required>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-dark" onclick="submissaoTese()">Enviar</button>
          </div>
          
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para Reserva de Sala / Auditório -->
  <div id="modal_sala" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Reserva de Sala/Auditório</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"
            onclick="clearNotifications()"></button>
        </div>
        <div class="modal-body">
          <div class="container">
            <h2 class="text-center">Solicitação de Reserva</h2>
            <!-- Formulário de envio de e-mail -->
            <form id="form_request" class="form-submit">
              <div class="mb-3">

                <!-- Aqui a mensagem pode ser editada, destacando campos para o usuário preencher -->
                <textarea class="form-control" id="emailText_request" rows="15">

                  Prezado(a),

                  Gostaria de solicitar a reserva da sala/auditório para a apresentação de uma tese de mestrado. 
                  Abaixo estão os detalhes da minha solicitação:

                  - Sala desejada: 
                  - Data: 
                  - Horário: 
                  - Necessidades especiais: 

                  Aguardo a confirmação da reserva.

                  Atenciosamente,
                  
                  Coordenador(a) de Curso [nome]

                </textarea>
              </div>
              <div class="modal-footer">
                <button type="submit" onsubmit="sendEmail(event)" class="btn btn-dark">Enviar Solicitação</button>
              </div>
            </form>
            <div class="responseMessageRequest mt-3" id="responseMessageRequest" style="display: none;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Submeter ata -->
  <div class="modal fade" id="ataModal" tabindex="-1" aria-labelledby="ataModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Submeter Ata</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
        </div>

        <form>
          <div class="modal-body">
            <div class="card mt-5">
              <div class="card-header">
                <h2>Download do Documento Exemplo da Ata</h2>
              </div>
              <div class="card-body">
                <a href="" download="documento_ata.pdf" class="btn btn-primary">
                  <i class="fas fa-download"></i> Baixar o documento exemplo de ata
                </a>
              </div>
            </div>

            <div class="card mt-5">
              <div class="card-header">
                <h2>Upload da Ata</h2>
              </div>
              <div class="card-body">
                <form>
                  <div class="mb-3">
                    <label for="uploadAta" class="form-label">Escolha o arquivo PDF</label>
                    <input class="form-control" type="file" id="uploadAta" accept="application/pdf">
                  </div>
                  <button type="submit" class="btn btn-success">
                    <i class="fas fa-upload"></i> Enviar Ata
                  </button>
                </form>
              </div>
            </div>
          </div>
        </form>

        <div class="modal-footer">
          <button type="button" class="btn btn-dark"">Concluido</button>
        </div>
      </div>
    </div>
      </div>

    <!-- Criar Juri -->
    <div id="criarJuriModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Adicionar Juri</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
          </div>

          <form id="form_Juri" onsubmit="adicionarJuri(event)">

            <div class="modal-body">
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="juryName">Nome Juri</label>
                  <input type="text" class="form-control" id="juryName" placeholder="Introduza o nome do Juri" required>
                </div>

                <div class="col-md-6">
                  <label for="juryDefenseNumber">Número da Defesa</label>
                  <input type="number" class="form-control" id="juryDefenseNumber" placeholder="Introduza o número da defesa" required>
                </div>

                <div class="modal-footer">
                  <button type="submit" class="btn btn-dark">Adicionar ao Juri</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    
  <!-- Submeter avaliaçao-->
  <div class="modal fade" id="avaliacaoModal" tabindex="-1" aria-labelledby="avaliacaoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Submeter Relatorio</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
        </div>

       
    <h2>Relatório de Avaliação</h2>
    <p>Baixe o template do relatório e envie seu arquivo preenchido.</p>

    <!-- Botão para download -->
    <button type="button" class="btn btn-dark" onclick="baixarTemplate()">Baixar Template</button>
       
    

    <!-- Formulário para upload -->
    <input type="file" id="fileInput"><br>
    <label for="numDefesa">Número da Tese:</label>
    <input type="text" id="numDefesa"><br>
    <button type="button" class="btn btn-dark" onclick="fazerUpload()">Enviar Relatório</button>
    
            </div>
          </div>
            </div>



        <footer class="bg-light text-center py-3 fixed-bottom">
          <div class="container">
            <p class="mb-1">&copy; Instituto Politécnico de Viana do Castelo • Master's Theses • 2024/25</p>
          </div>
        </footer>


        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
        <script src="../auxiliador\loadNavbar.js"></script>
        <script src="../auxiliador\auxiliador.js"></script>
        <script src="../auxiliador/auxiliador_files.js" defer></script>

        <script src="../auxiliador/auxiliador_submissoes.js"></script>
        <script src="../auxiliador\auxiliador_email.js"></script>
        <script src="../auxiliador\auxiliador_juri.js" defer></script>

</body>

</html>